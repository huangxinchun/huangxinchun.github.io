---
layout:     post                    # 使用的布局（不需要改）
title:      linux总结              # 标题
subtitle:   坚持坚持再坚持      #副标题
date:       2020-04-13              # 时间
author:     hxc                      # 作者
header-img:    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - linux
---
# 我的linux整理

<!-- GFM-TOC -->
* [前言](#前言)
* [一、常用操作以及概念](#一常用操作以及概念)
    * [快捷键](##快捷键)
    * [求助](##求助)
    * [关机](##关机)
    * [PATH](##path)
    * [sudo](##sudo)
    * [包管理工具](##包管理工具)
    * [发行版](##发行版)
    * [VIM 三个模式](##vim-三个模式)
    * [GNU](##gnu)
    * [开源协议](##开源协议)
* [二、磁盘](##二磁盘)
    * [磁盘接口](##磁盘接口)
    * [磁盘的文件名](##磁盘的文件名)
* [三、分区](##三分区)
    * [分区表](##分区表)
    * [开机检测程序](##开机检测程序)
* [四、文件系统](##四文件系统)
    * [分区与文件系统](##分区与文件系统)
    * [组成](##组成)
    * [文件读取](##文件读取)
    * [磁盘碎片](##磁盘碎片)
    * [block](##block)
    * [inode](##inode)
    * [目录](##目录)
    * [日志](##日志)
    * [挂载](##挂载)
    * [目录配置](##目录配置)
* [五、文件](##五文件)
    * [文件属性](##文件属性)
    * [文件与目录的基本操作](##文件与目录的基本操作)
    * [修改权限](##修改权限)
    * [默认权限](##默认权限)
    * [目录的权限](##目录的权限)
    * [链接](##链接)
    * [获取文件内容](##获取文件内容)
    * [指令与文件搜索](##指令与文件搜索)
* [六、压缩与打包](##六压缩与打包)
    * [压缩文件名](##压缩文件名)
    * [压缩指令](##压缩指令)
    * [打包](##打包)
* [七、Bash](##七bash)
    * [特性](##特性)
    * [变量操作](##变量操作)
    * [指令搜索顺序](##指令搜索顺序)
    * [数据流重定向](##数据流重定向)
* [八、管道指令](##八管道指令)
    * [提取指令](##提取指令)
    * [排序指令](##排序指令)
    * [双向输出重定向](##双向输出重定向)
    * [字符转换指令](##字符转换指令)
    * [分区指令](##分区指令)
* [九、正则表达式](##九正则表达式)
    * [grep](##grep)
    * [printf](##printf)
    * [awk](##awk)
* [十、进程管理](##十进程管理)
    * [查看进程](##查看进程)
    * [进程状态](##进程状态)
    * [SIGCHLD](##sigchld)
    * [wait()](##wait)
    * [waitpid()](##waitpid)
    * [孤儿进程](##孤儿进程)
    * [僵尸进程](##僵尸进程)
* [参考资料](##参考资料)
<!-- GFM-TOC -->

##1 常用操作以及概念
##2 磁盘
##3 分区
##4 文件系统
##5 压缩与打包
##6 Bash
##7 管道指令
##8 正则表达式
##9 进程管理

###9.1 查看进程

####9.1.1

#####9.1.1.1 ps

查看某个时间点的进程信息。

```
示例：查看自己的进程
# ps -l
示例：查看系统所有进程
# ps aux
示例：查看特定的进程
# ps aux | grep threadx
```

#####9.1.1.2 pstree

查看进程树。

```
示例：查看所有进程树
# pstree -A
```
#####9.1.1.3 top

实时显示进程信息。

```
示例：两秒钟刷新一次
# top -d 2
```

#####9.1.1.4 netstat

查看占用端口的进程

```
示例：查看特定端口的进程
netstat -anp | grep port
```

#####9.1.1.5  stace

strace常用来跟踪进程执行时的系统调用和所接收的信号。 在Linux世界，进程不能直接访问硬件设备，当进程需要访问硬件设备(比如读取磁盘文件，接收网络数据等等)时，必须由用户态模式切换至内核态模式，通过系统调用访问硬件设备。strace可以跟踪到一个进程产生的系统调用,包括参数，返回值，执行消耗的时间。

strace常用参数：

```
-p  跟踪指定的进程
-f  跟踪由fork子进程系统调用
-F  尝试跟踪vfork子进程系统调吸入，与-f同时出现时, vfork不被跟踪
-o  filename 默认strace将结果输出到stdout。通过-o可以将输出写入到filename文件中
-ff 常与-o选项一起使用，不同进程(子进程)产生的系统调用输出到filename.PID文件
-r  打印每一个系统调用的相对时间
-t  在输出中的每一行前加上时间信息。 -tt 时间确定到微秒级。还可以使用-ttt打印相对时间
-v  输出所有系统调用。默认情况下，一些频繁调用的系统调用不会输出
-s  指定每一行输出字符串的长度,默认是32。文件名一直全部输出
-c  统计每种系统调用所执行的时间，调用次数，出错次数。
-e  expr    输出过滤器，通过表达式，可以过滤出掉你不想要输出
```

用法示例

```
1. 通用的完整用法 跟踪28979进程的所有系统调用（-e trace=all），并统计系统调用的花费时间，以及开始时间（并以可视化的时分秒格式显示），最后将记录结果存在output.txt文件里面。
# strace -o output.txt -T -tt -e trace=all -p 28979

2.不同进程(子进程)产生的系统调用输出到xxx.PID文件
# strace -ff -o ./xxxx  对应进程

```





###9.2 进程状态
###9.3 SIGCHLD
###9.4 wait()
###9.5 waitpid()
###9.6 孤儿进程
###9.7 僵尸进程

